"use strict";window.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#menu-header-menu .menu-item").forEach(e=>{e.addEventListener("click",e=>{console.log("click"),window.innerWidth<=793&&(document.querySelector(".navigation__nav").classList.toggle("hamburger-navigation"),document.querySelector(".mobile-menu-btn__open").toggleAttribute("isOpened"),document.querySelector(".mobile-menu-btn__open").classList.replace("close-btn","open-btn"),document.documentElement.classList.toggle("disable-scroll"),document.body.classList.toggle("disable-scroll"))})}),document.querySelector("#offline-tab").classList.add("active"),document.querySelector("#post_number-80").classList.add("active"),document.querySelector("#online-tab").addEventListener("click",function(){document.querySelector("#online-tab").classList.add("active"),document.querySelector("#offline-tab").classList.remove("active"),document.querySelector("#post_number-80").classList.remove("active"),document.querySelector("#post_number-88").classList.add("active")}),document.querySelector("#offline-tab").addEventListener("click",function(){console.log("offline-tab"),document.querySelector("#offline-tab").classList.add("active"),document.querySelector("#online-tab").classList.remove("active"),document.querySelector("#post_number-88").classList.remove("active"),document.querySelector("#post_number-80").classList.add("active")});var e=document.querySelector(".nav-wrapper"),t=document.querySelector(" .navigation__mobile-menu"),n=e.querySelector(".navigation__nav"),o=(e.querySelectorAll(".menu > li"),document.querySelector(".mobile-menu-btn__open"));document.querySelector(".mobile-menu-btn__close"),window.addEventListener("scroll",function(){200<window.pageYOffset?(e.classList.add("sticky-nav"),document.querySelector(".logo-js").src="./wp-content/themes/viyartheme/assets/img/logo-svg-sticky.svg"):window.pageYOffset<100&&(e.classList.remove("sticky-nav"),document.querySelector(".logo-js").src="./wp-content/themes/viyartheme/assets/img/logo-svg.svg")}),window.addEventListener("resize",function(){794<window.outerWidth?document.querySelector(".hamburger-phone").style.display="none":document.querySelector(".hamburger-phone").style.display="flex"}),window.outerWidth,t.addEventListener("click",function(){n.classList.toggle("hamburger-navigation"),o.toggleAttribute("isOpened"),o.classList.contains("open-btn")?o.classList.replace("open-btn","close-btn"):o.classList.replace("close-btn","open-btn");var e=document.createElement("div"),e=(e.setAttribute("id","hamburgerLine"),e.style.cssText="\n        width: 64px;\n        height: 1px;\n        background: #30A0F0;\n        margin: 1rem auto;\n        ",document.querySelector("#hamburgerLine")?console.log("hamburgerLine is exist"):n.appendChild(e),document.createElement("div"));e.classList.add("hamburger-phone"),e.innerHTML='\n        <a class="phone__link" href="tel:+380978929786"> \n        <div class="phone-icon flex-item">\n        \n        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path id="phone-icon" d="M17.4912 13.2102L14.9792 10.6982C14.0821 9.80111 12.557 10.16 12.1981 11.3262C11.929 12.1337 11.0319 12.5822 10.2245 12.4028C8.43021 11.9542 6.00797 9.62168 5.55941 7.73772C5.29027 6.93027 5.82855 6.03314 6.63596 5.76404C7.80222 5.40519 8.16108 3.88007 7.26395 2.98295L4.752 0.470991C4.03429 -0.156997 2.95774 -0.156997 2.32975 0.470991L0.625214 2.17553C-1.07933 3.96978 0.804639 8.72455 5.02113 12.941C9.23763 17.1575 13.9924 19.1313 15.7866 17.337L17.4912 15.6324C18.1192 14.9147 18.1192 13.8382 17.4912 13.2102Z" fill="white" />\n        </svg>\n        \n        </div>\n        <div class="phone-number flex-item">\n        \n        +380 97 892 97 86\n                    \n        </div>\n        </a>\n        ',document.querySelector(".hamburger-phone")?console.log("already exist"):n.appendChild(e),document.documentElement.classList.toggle("disable-scroll"),document.body.classList.toggle("disable-scroll")}),new Swiper(".swiper-speakers",{direction:"horizontal",centerInsufficientSlides:!0,slidesPerView:5,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpointsBase:"window",breakpoints:{320:{slidesPerView:1,spaceBetween:40},480:{slidesPerView:2,spaceBetween:30},700:{slidesPerView:3,spaceBetween:30},760:{slidesPerView:3,spaceBetween:30},991:{slidesPerView:4,spaceBetween:30},1160:{slidesPerView:5,spaceBetween:40}}}),new Swiper(".swiper-review",{init:!0,slidesPerView:"auto",noSwipingClass:"swiper-no-swiping",centeredSlides:!0,watchOverflow:!1,preventInteractionOnTransition:!0,loopAdditionalSlides:0,initialSlide:1,loopPreventsSlide:!1,loop:!0,navigation:{nextEl:".reviews-btn-next",prevEl:".reviews-btn-prev"},pagination:{el:".swiper-pagination-reviews",clickable:!0}});videoPlay(".js-videoPoster"),window.outerWidth<=991.98&&tabs(".tab",".tab_block",".tabs","active"),document.querySelectorAll(".disable-default").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault()})})});for(var question=document.querySelectorAll(".question"),answers=document.querySelectorAll(".answer"),i=0;i<question.length;i++)question[i].addEventListener("click",function(){var e=!this.classList.contains("active");setClass(question,"active","remove"),setClass(answers,"show","remove"),e&&(this.classList.toggle("active"),this.nextElementSibling.classList.toggle("show"))});function setClass(e,t,n){for(var o=0;o<e.length;o++)e[o].classList[n](t)}var modalCall=document.querySelector(".hf-form[data-id='56']"),modalRegisterOffline=document.querySelector(".hf-form[data-id='57']"),modalRegisterOnline=document.querySelector(".hf-form[data-id='58']"),callBtn=document.querySelectorAll("#call-order"),registerBtnOffline=document.querySelector("#register-button-offline"),registerBtnOnline=document.querySelector("#register-button-online"),closeModal=document.querySelectorAll(".close-modal"),formModal=document.querySelectorAll(".hf-form"),backToHomeBtns=[document.querySelector(".form__success-56"),document.querySelector(".form__success-57")],mutationObserver=(callBtn.forEach(function(e){e.addEventListener("click",function(){modalCall.style.display="block"})}),closeModal.forEach(function(e){e.addEventListener("click",function(){formModal.forEach(function(e){e.style.display="none"})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&formModal.forEach(function(e){e.style.display="none"})})}),registerBtnOffline.addEventListener("click",function(){modalRegisterOffline.style.display="block"}),registerBtnOnline.addEventListener("click",function(){modalRegisterOnline.style.display="block"}),new MutationObserver(function(e){e.forEach(function(e){"hf-form hf-form-56 mc4wp-loading"===e.oldValue?backToHomeBtns[0].style.display="block":"hf-form hf-form-57 mc4wp-loading"!==e.oldValue&&"hf-form hf-form-58 mc4wp-loading"!==e.oldValue||(backToHomeBtns[1].style.display="block")})}));function tabs(t,e,n,o){var i=document.querySelectorAll(t),s=document.querySelectorAll(e),e=document.querySelector(n);function l(){s.forEach(function(e){e.classList.add("hide"),e.classList.remove("show","fade")}),i.forEach(function(e){e.classList.remove(o)})}function c(e){e=0<arguments.length&&void 0!==e?e:0;s[e].classList.add("show","fade"),s[e].classList.remove("hide"),i[e].classList.add(o)}l(),c(),e.addEventListener("click",function(e){e.preventDefault();var n=e.target;n&&n.classList.contains(t.slice(1))&&i.forEach(function(e,t){n==e&&(l(),c(t))})})}function videoPlay(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.target.previousElementSibling.setAttribute("src",e.target.previousElementSibling.getAttribute("data-src")),e.target.parentNode.classList.toggle("videoWrapperActive")})})}formModal.forEach(function(e){mutationObserver.observe(e,{attributes:!0,attributeOldValue:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbS5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIml0ZW0iLCJjb25zb2xlIiwibG9nIiwiaW5uZXJXaWR0aCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJyZXBsYWNlIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsImFkZCIsInJlbW92ZSIsIm5hdldyYXBwZXIiLCJoYW1idXJnZXJCdXR0b24iLCJuYXZpZ2F0aW9uIiwiaGFtYnVyZ2VyT3BlbkJ1dHRvbiIsInBhZ2VZT2Zmc2V0Iiwic3JjIiwib3V0ZXJXaWR0aCIsInN0eWxlIiwiZGlzcGxheSIsImNvbnRhaW5zIiwiaGFtYnVyZ2VyTGluZSIsImNyZWF0ZUVsZW1lbnQiLCJoYW1idXJnZXJQaG9uZSIsInNldEF0dHJpYnV0ZSIsImNzc1RleHQiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsIlN3aXBlciIsImRpcmVjdGlvbiIsImNlbnRlckluc3VmZmljaWVudFNsaWRlcyIsInNsaWRlc1BlclZpZXciLCJsb29wIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwibmV4dEVsIiwicHJldkVsIiwiYnJlYWtwb2ludHNCYXNlIiwiYnJlYWtwb2ludHMiLCIzMjAiLCJzcGFjZUJldHdlZW4iLCI0ODAiLCI3MDAiLCI3NjAiLCI5OTEiLCIxMTYwIiwiaW5pdCIsIm5vU3dpcGluZ0NsYXNzIiwiY2VudGVyZWRTbGlkZXMiLCJ3YXRjaE92ZXJmbG93IiwicHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uIiwibG9vcEFkZGl0aW9uYWxTbGlkZXMiLCJpbml0aWFsU2xpZGUiLCJsb29wUHJldmVudHNTbGlkZSIsInZpZGVvUGxheSIsInRhYnMiLCJlIiwicHJldmVudERlZmF1bHQiLCJxdWVzdGlvbiIsImFuc3dlcnMiLCJpIiwibGVuZ3RoIiwic2V0Q2xhc3NlcyIsInRoaXMiLCJzZXRDbGFzcyIsIm5leHRFbGVtZW50U2libGluZyIsImVscyIsImNsYXNzTmFtZSIsImZuTmFtZSIsIl9pIiwibW9kYWxDYWxsIiwibW9kYWxSZWdpc3Rlck9mZmxpbmUiLCJtb2RhbFJlZ2lzdGVyT25saW5lIiwiY2FsbEJ0biIsInJlZ2lzdGVyQnRuT2ZmbGluZSIsInJlZ2lzdGVyQnRuT25saW5lIiwiY2xvc2VNb2RhbCIsImZvcm1Nb2RhbCIsImJhY2tUb0hvbWVCdG5zIiwibXV0YXRpb25PYnNlcnZlciIsImVsZW1lbnQiLCJrZXkiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwibXV0YXRpb24iLCJvbGRWYWx1ZSIsInRhYnNTZWxlY3RvciIsInRhYnNDb250ZW50U2VsZWN0b3IiLCJ0YWJzUGFyZW50U2VsZWN0b3IiLCJhY3RpdmVDbGFzcyIsInRhYnNDb250ZW50IiwidGFic1BhcmVudCIsImhpZGVUYWJDb250ZW50Iiwic2hvd1RhYkNvbnRlbnQiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJldmVudCIsInRhcmdldCIsInNsaWNlIiwiYnV0dG9uIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImdldEF0dHJpYnV0ZSIsInBhcmVudE5vZGUiLCJmb3JtIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVPbGRWYWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFHQUEsT0FBQUMsaUJBQUEsbUJBQUEsV0FDQUMsU0FBQUMsaUJBQ0EsOEJBQ0EsRUFHQUMsUUFBQSxJQUNBQyxFQUFBSixpQkFBQSxRQUFBLElBQ0FLLFFBQUFDLElBQUEsT0FBQSxFQUVBUCxPQUFBUSxZQUFBLE1BQ0FOLFNBQ0FPLGNBQUEsa0JBQUEsRUFDQUMsVUFBQUMsT0FBQSxzQkFBQSxFQUVBVCxTQUNBTyxjQUFBLHdCQUFBLEVBQ0FHLGdCQUFBLFVBQUEsRUFDQVYsU0FDQU8sY0FBQSx3QkFBQSxFQUNBQyxVQUFBRyxRQUFBLFlBQUEsVUFBQSxF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OEMsRUFBQUssR0FBQTFELFVBQUFNLElBQUFpRixDQUFBLENBQ0EsQ0FFQUcsRUFBQSxFQUNBQyxFQUFBLEVBQ0FGLEVBQUFsRyxpQkFBQSxRQUFBLFNBQUF1RyxHQUNBQSxFQUFBdkMsZUFBQSxFQUNBLElBQUF3QyxFQUFBRCxFQUFBQyxPQUVBQSxHQUFBQSxFQUFBL0YsVUFBQWlCLFNBQUFtRSxFQUFBWSxNQUFBLENBQUEsQ0FBQSxHQUNBM0MsRUFBQTNELFFBQUEsU0FBQUMsRUFBQStELEdBQ0FxQyxHQUFBcEcsSUFDQStGLEVBQUEsRUFDQUMsRUFBQWpDLENBQUEsRUFFQSxDQUFBLENBRUEsQ0FBQSxDQUNBLENBME5BLFNBQUFOLFVBQUE2QyxHQUNBekcsU0FBQUMsaUJBQUF3RyxDQUFBLEVBQ0F2RyxRQUFBLFNBQUFxQyxHQUNBQSxFQUFBeEMsaUJBQUEsUUFBQSxTQUFBK0QsR0FDQUEsRUFBQUMsZUFBQSxFQUNBRCxFQUFBeUMsT0FBQUcsdUJBQUE3RSxhQUNBLE1BQ0FpQyxFQUFBeUMsT0FBQUcsdUJBQUFDLGFBQUEsVUFBQSxDQUNBLEVBQ0E3QyxFQUFBeUMsT0FBQUssV0FBQXBHLFVBQUFDLE9BQUEsb0JBQUEsQ0FDQSxDQUFBLENBQ0EsQ0FBQSxDQUNBLENBelJBMEUsVUFBQWpGLFFBQUEsU0FBQTJHLEdBQ0F4QixpQkFBQXlCLFFBQUFELEVBQUEsQ0FDQUUsV0FBQSxDQUFBLEVBQ0FDLGtCQUFBLENBQUEsQ0FDQSxDQUFBLENBQ0EsQ0FBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdHJhaWxpbmctc3BhY2VzICovXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgaGVhZGVyTWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnI21lbnUtaGVhZGVyLW1lbnUgLm1lbnUtaXRlbSdcbiAgKTtcbiAgLy8gZXZlbnQgbGlzdGVuZXIgZm9yIHRvdWNoIGRldmljZXNcblxuICBoZWFkZXJNZW51SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2NsaWNrJyk7XG5cbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA3OTMpIHtcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb25fX25hdicpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlci1uYXZpZ2F0aW9uJyk7XG5cbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51LWJ0bl9fb3BlbicpXG4gICAgICAgICAgLnRvZ2dsZUF0dHJpYnV0ZSgnaXNPcGVuZWQnKTtcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51LWJ0bl9fb3BlbicpXG4gICAgICAgICAgLmNsYXNzTGlzdC5yZXBsYWNlKCdjbG9zZS1idG4nLCAnb3Blbi1idG4nKTtcblxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZS1zY3JvbGwnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlLXNjcm9sbCcpO1xuICAgICAgfVxuXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvZmZsaW5lLXRhYicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9zdF9udW1iZXItODAnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb25saW5lLXRhYicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvbmxpbmUtdGFiJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29mZmxpbmUtdGFiJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3RfbnVtYmVyLTgwJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3RfbnVtYmVyLTg4JykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb2ZmbGluZS10YWInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnb2ZmbGluZS10YWInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb2ZmbGluZS10YWInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb25saW5lLXRhYicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3N0X251bWJlci04OCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3N0X251bWJlci04MCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9KTtcbiAgdmFyIG5hdldyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LXdyYXBwZXInKSxcbiAgICBoYW1idXJnZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcgLm5hdmlnYXRpb25fX21vYmlsZS1tZW51JyksXG4gICAgbmF2aWdhdGlvbiA9IG5hdldyYXBwZXIucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb25fX25hdicpLFxuICAgIG1lbnUgPSBuYXZXcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51ID4gbGknKSxcbiAgICBoYW1idXJnZXJPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51LWJ0bl9fb3BlbicpLFxuICAgIGhhbWJ1cmdlckNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51LWJ0bl9fY2xvc2UnKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoXG4gICAgICAyMDAgPCB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgIC8qIGFkZGVkIHBhZ2VZT2Zmc2V0IGZvciBpZSAqL1xuICAgICkge1xuICAgICAgbmF2V3JhcHBlci5jbGFzc0xpc3QuYWRkKCdzdGlja3ktbmF2Jyk7XG4gICAgICB2YXIgbG9nb0pzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ28tanMnKTtcbiAgICAgIGxvZ29Kcy5zcmMgPVxuICAgICAgICAnLi93cC1jb250ZW50L3RoZW1lcy92aXlhcnRoZW1lL2Fzc2V0cy9pbWcvbG9nby1zdmctc3RpY2t5LnN2Zyc7XG4gICAgfSBlbHNlIGlmICgxMDAgPiB3aW5kb3cucGFnZVlPZmZzZXQpIHtcbiAgICAgIG5hdldyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2t5LW5hdicpO1xuXG4gICAgICB2YXIgX2xvZ29KcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dvLWpzJyk7XG5cbiAgICAgIF9sb2dvSnMuc3JjID0gJy4vd3AtY29udGVudC90aGVtZXMvdml5YXJ0aGVtZS9hc3NldHMvaW1nL2xvZ28tc3ZnLnN2Zyc7XG4gICAgfVxuICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHlvZGFcblxuICAvLyByZXNpemVcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAod2luZG93Lm91dGVyV2lkdGggPiA3OTQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXItcGhvbmUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyLXBob25lJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB9XG4gIH0pO1xuXG4gIGlmICh3aW5kb3cub3V0ZXJXaWR0aCA8PSA3OTQpIHtcbiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyLXBob25lJykuXG4gICAgLy8gbmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4LWNvbnRhaW5lcicpO1xuICAgIC8vIG1lbnUuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAvLyAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICBuYXZpZ2F0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlci1uYXZpZ2F0aW9uJyk7XG4gICAgLy8gICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlLXNjcm9sbCcpO1xuICAgIC8vICAgfSk7XG4gICAgLy8gfSk7XG4gIH1cblxuICBoYW1idXJnZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgbmF2aWdhdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdoYW1idXJnZXItbmF2aWdhdGlvbicpO1xuICAgIGhhbWJ1cmdlck9wZW5CdXR0b24udG9nZ2xlQXR0cmlidXRlKCdpc09wZW5lZCcpOyAvLyBoYW1idXJnZXJPcGVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2Nsb3NlLWJ0bicpO1xuXG4gICAgaWYgKGhhbWJ1cmdlck9wZW5CdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuLWJ0bicpKSB7XG4gICAgICBoYW1idXJnZXJPcGVuQnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKCdvcGVuLWJ0bicsICdjbG9zZS1idG4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFtYnVyZ2VyT3BlbkJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZSgnY2xvc2UtYnRuJywgJ29wZW4tYnRuJyk7XG4gICAgfVxuXG4gICAgdmFyIGhhbWJ1cmdlckxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBoYW1idXJnZXJMaW5lLnNldEF0dHJpYnV0ZSgnaWQnLCAnaGFtYnVyZ2VyTGluZScpO1xuICAgIGhhbWJ1cmdlckxpbmUuc3R5bGUuY3NzVGV4dCA9XG4gICAgICAnXFxuICAgICAgICB3aWR0aDogNjRweDtcXG4gICAgICAgIGhlaWdodDogMXB4O1xcbiAgICAgICAgYmFja2dyb3VuZDogIzMwQTBGMDtcXG4gICAgICAgIG1hcmdpbjogMXJlbSBhdXRvO1xcbiAgICAgICAgJztcblxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGFtYnVyZ2VyTGluZScpKSB7XG4gICAgICBjb25zb2xlLmxvZygnaGFtYnVyZ2VyTGluZSBpcyBleGlzdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYXZpZ2F0aW9uLmFwcGVuZENoaWxkKGhhbWJ1cmdlckxpbmUpO1xuICAgIH1cblxuICAgIHZhciBoYW1idXJnZXJQaG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhhbWJ1cmdlclBob25lLmNsYXNzTGlzdC5hZGQoJ2hhbWJ1cmdlci1waG9uZScpO1xuICAgIGhhbWJ1cmdlclBob25lLmlubmVySFRNTCA9XG4gICAgICAnXFxuICAgICAgICA8YSBjbGFzcz1cInBob25lX19saW5rXCIgaHJlZj1cInRlbDorMzgwOTc4OTI5Nzg2XCI+IFxcbiAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLWljb24gZmxleC1pdGVtXCI+XFxuICAgICAgICBcXG4gICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAxOCAxOFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICAgICAgPHBhdGggaWQ9XCJwaG9uZS1pY29uXCIgZD1cIk0xNy40OTEyIDEzLjIxMDJMMTQuOTc5MiAxMC42OTgyQzE0LjA4MjEgOS44MDExMSAxMi41NTcgMTAuMTYgMTIuMTk4MSAxMS4zMjYyQzExLjkyOSAxMi4xMzM3IDExLjAzMTkgMTIuNTgyMiAxMC4yMjQ1IDEyLjQwMjhDOC40MzAyMSAxMS45NTQyIDYuMDA3OTcgOS42MjE2OCA1LjU1OTQxIDcuNzM3NzJDNS4yOTAyNyA2LjkzMDI3IDUuODI4NTUgNi4wMzMxNCA2LjYzNTk2IDUuNzY0MDRDNy44MDIyMiA1LjQwNTE5IDguMTYxMDggMy44ODAwNyA3LjI2Mzk1IDIuOTgyOTVMNC43NTIgMC40NzA5OTFDNC4wMzQyOSAtMC4xNTY5OTcgMi45NTc3NCAtMC4xNTY5OTcgMi4zMjk3NSAwLjQ3MDk5MUwwLjYyNTIxNCAyLjE3NTUzQy0xLjA3OTMzIDMuOTY5NzggMC44MDQ2MzkgOC43MjQ1NSA1LjAyMTEzIDEyLjk0MUM5LjIzNzYzIDE3LjE1NzUgMTMuOTkyNCAxOS4xMzEzIDE1Ljc4NjYgMTcuMzM3TDE3LjQ5MTIgMTUuNjMyNEMxOC4xMTkyIDE0LjkxNDcgMTguMTE5MiAxMy44MzgyIDE3LjQ5MTIgMTMuMjEwMlpcIiBmaWxsPVwid2hpdGVcIiAvPlxcbiAgICAgICAgPC9zdmc+XFxuICAgICAgICBcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW51bWJlciBmbGV4LWl0ZW1cIj5cXG4gICAgICAgIFxcbiAgICAgICAgKzM4MCA5NyA4OTIgOTcgODZcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2E+XFxuICAgICAgICAnO1xuXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXItcGhvbmUnKSkge1xuICAgICAgY29uc29sZS5sb2coJ2FscmVhZHkgZXhpc3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmF2aWdhdGlvbi5hcHBlbmRDaGlsZChoYW1idXJnZXJQaG9uZSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGUtc2Nyb2xsJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlLXNjcm9sbCcpO1xuICB9KTtcbiAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItc3BlYWtlcnMnLCB7XG4gICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiB0cnVlLFxuICAgIHNsaWRlc1BlclZpZXc6IDUsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxuICAgIH0sXG4gICAgYnJlYWtwb2ludHNCYXNlOiAnd2luZG93JyxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgLy8gd2hlbiB3aW5kb3cgd2lkdGggaXMgPj0gMzIwcHhcbiAgICAgIDMyMDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICBzcGFjZUJldHdlZW46IDQwLFxuICAgICAgfSxcbiAgICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDQ4MHB4XG4gICAgICA0ODA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICAvLyB3aGVuIHdpbmRvdyB3aWR0aCBpcyA+PSA0ODBweFxuICAgICAgNzAwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICB9LFxuICAgICAgLy8gd2hlbiB3aW5kb3cgd2lkdGggaXMgPj0gNzYwcHhcbiAgICAgIDc2MDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgfSxcbiAgICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDk5MXB4XG4gICAgICA5OTE6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICAvLyB3aGVuIHdpbmRvdyB3aWR0aCBpcyA+PSAxMTYwcHhcbiAgICAgIDExNjA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG4gIHZhciBzd2lwZXJSZXZpZXcgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLXJldmlldycsIHtcbiAgICBpbml0OiB0cnVlLFxuICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICBub1N3aXBpbmdDbGFzczogJ3N3aXBlci1uby1zd2lwaW5nJyxcbiAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICB3YXRjaE92ZXJmbG93OiBmYWxzZSxcbiAgICBwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb246IHRydWUsXG4gICAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsXG4gICAgaW5pdGlhbFNsaWRlOiAxLFxuICAgIGxvb3BQcmV2ZW50c1NsaWRlOiBmYWxzZSxcbiAgICBsb29wOiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy5yZXZpZXdzLWJ0bi1uZXh0JyxcbiAgICAgIHByZXZFbDogJy5yZXZpZXdzLWJ0bi1wcmV2JyxcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uLXJldmlld3MnLFxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH0sXG4gIH0pO1xuICB2aWRlb1BsYXkoJy5qcy12aWRlb1Bvc3RlcicpO1xuXG4gIGlmICh3aW5kb3cub3V0ZXJXaWR0aCA8PSA5OTEuOTgpIHtcbiAgICB0YWJzKCcudGFiJywgJy50YWJfYmxvY2snLCAnLnRhYnMnLCAnYWN0aXZlJyk7XG4gIH1cblxuICB2YXIgbGlua1RvRGlzYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXNhYmxlLWRlZmF1bHQnKTtcbiAgbGlua1RvRGlzYWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbigndXNlIHN0cmljdCcpO1xuXG52YXIgcXVlc3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb24nKSxcbiAgYW5zd2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXInKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBxdWVzdGlvbi5sZW5ndGg7IGkrKykge1xuICBxdWVzdGlvbltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2V0Q2xhc3NlcyA9ICF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG4gICAgc2V0Q2xhc3MocXVlc3Rpb24sICdhY3RpdmUnLCAncmVtb3ZlJyk7XG4gICAgc2V0Q2xhc3MoYW5zd2VycywgJ3Nob3cnLCAncmVtb3ZlJyk7XG5cbiAgICBpZiAoc2V0Q2xhc3Nlcykge1xuICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRDbGFzcyhlbHMsIGNsYXNzTmFtZSwgZm5OYW1lKSB7XG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBlbHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgZWxzW19pXS5jbGFzc0xpc3RbZm5OYW1lXShjbGFzc05hbWUpO1xuICB9XG59IC8vIHF1ZXN0aW9uLmZvckVhY2goZWwgPT4ge1xuLy8gICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbi8vICAgICAgICAgaGlkZUFsbCgpO1xuLy8gICAgICAgICBlbC5jaGlsZHJlblsxXS5jbGFzc0xpc3QudG9nZ2xlKCAnc2hvdycgKTtcbi8vICAgICB9KTtcbi8vIH0pO1xuLy8gZnVuY3Rpb24gaGlkZUFsbCgpIHtcbi8vICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBxdWVzdGlvbi5sZW5ndGg7IGkrKyApIHtcbi8vICAgICAgICAgcXVlc3Rpb25baV0uY2hpbGRyZW5bMV0uY2xhc3NMaXN0LnRvZ2dsZSggJ3Nob3cnLCBmYWxzZSApO1xuLy8gICAgIH1cbi8vIH07XG4oJ3VzZSBzdHJpY3QnKTtcblxuLy8gR2V0IHRoZSBtb2RhbFxudmFyIG1vZGFsQ2FsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGYtZm9ybVtkYXRhLWlkPSc1NiddXCIpO1xudmFyIG1vZGFsUmVnaXN0ZXJPZmZsaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZi1mb3JtW2RhdGEtaWQ9JzU3J11cIik7XG52YXIgbW9kYWxSZWdpc3Rlck9ubGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGYtZm9ybVtkYXRhLWlkPSc1OCddXCIpO1xudmFyIGNhbGxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY2FsbC1vcmRlcicpO1xudmFyIHJlZ2lzdGVyQnRuT2ZmbGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZWdpc3Rlci1idXR0b24tb2ZmbGluZScpO1xudmFyIHJlZ2lzdGVyQnRuT25saW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlZ2lzdGVyLWJ1dHRvbi1vbmxpbmUnKTtcbnZhciBjbG9zZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlLW1vZGFsJyk7XG52YXIgZm9ybU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhmLWZvcm0nKTtcbnZhciBiYWNrVG9Ib21lQnRucyA9IFtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Y2Nlc3MtNTYnKSxcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Y2Nlc3MtNTcnKSxcbl07XG5jYWxsQnRuLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIG1vZGFsQ2FsbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSk7XG59KTtcbmNsb3NlTW9kYWwuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9ybU1vZGFsLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgnRXNjYXBlJyA9PT0gZS5rZXkpIHtcbiAgICAgIGZvcm1Nb2RhbC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTtcbnJlZ2lzdGVyQnRuT2ZmbGluZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgbW9kYWxSZWdpc3Rlck9mZmxpbmUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59KTtcbnJlZ2lzdGVyQnRuT25saW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBtb2RhbFJlZ2lzdGVyT25saW5lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufSk7XG52YXIgbXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgaWYgKG11dGF0aW9uLm9sZFZhbHVlID09PSAnaGYtZm9ybSBoZi1mb3JtLTU2IG1jNHdwLWxvYWRpbmcnKSB7XG4gICAgICBiYWNrVG9Ib21lQnRuc1swXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2UgaWYgKG11dGF0aW9uLm9sZFZhbHVlID09PSAnaGYtZm9ybSBoZi1mb3JtLTU3IG1jNHdwLWxvYWRpbmcnKSB7XG4gICAgICBiYWNrVG9Ib21lQnRuc1sxXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2UgaWYgKG11dGF0aW9uLm9sZFZhbHVlID09PSAnaGYtZm9ybSBoZi1mb3JtLTU4IG1jNHdwLWxvYWRpbmcnKSB7XG4gICAgICBiYWNrVG9Ib21lQnRuc1sxXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH0pO1xufSk7XG5mb3JtTW9kYWwuZm9yRWFjaChmdW5jdGlvbiAoZm9ybSkge1xuICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoZm9ybSwge1xuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gIH0pO1xufSk7XG4oJ3VzZSBzdHJpY3QnKTtcblxuZnVuY3Rpb24gdGFicyhcbiAgdGFic1NlbGVjdG9yLFxuICB0YWJzQ29udGVudFNlbGVjdG9yLFxuICB0YWJzUGFyZW50U2VsZWN0b3IsXG4gIGFjdGl2ZUNsYXNzXG4pIHtcbiAgdmFyIHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhYnNTZWxlY3RvciksXG4gICAgdGFic0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhYnNDb250ZW50U2VsZWN0b3IpLFxuICAgIHRhYnNQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYnNQYXJlbnRTZWxlY3Rvcik7XG5cbiAgZnVuY3Rpb24gaGlkZVRhYkNvbnRlbnQoKSB7XG4gICAgdGFic0NvbnRlbnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnLCAnZmFkZScpO1xuICAgIH0pO1xuICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dUYWJDb250ZW50KCkge1xuICAgIHZhciBpID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB0YWJzQ29udGVudFtpXS5jbGFzc0xpc3QuYWRkKCdzaG93JywgJ2ZhZGUnKTtcbiAgICB0YWJzQ29udGVudFtpXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgdGFic1tpXS5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgfVxuXG4gIGhpZGVUYWJDb250ZW50KCk7XG4gIHNob3dUYWJDb250ZW50KCk7XG4gIHRhYnNQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGFic1NlbGVjdG9yLnNsaWNlKDEpKSkge1xuICAgICAgdGFicy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT0gaXRlbSkge1xuICAgICAgICAgIGhpZGVUYWJDb250ZW50KCk7XG4gICAgICAgICAgc2hvd1RhYkNvbnRlbnQoaSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4oJ3VzZSBzdHJpY3QnKTtcblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbi8vICAgLy8gdGltZXJcbi8vICAgdmFyIHRpbWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpbWVyJyk7XG4vLyAgIHZhciBkYXlzID0gdGltZXIucXVlcnlTZWxlY3RvcignLmRheXMnKTtcbi8vICAgdmFyIGhvdXJzID0gdGltZXIucXVlcnlTZWxlY3RvcignLmhvdXJzJyk7XG4vLyAgIHZhciBtaW51dGVzID0gdGltZXIucXVlcnlTZWxlY3RvcignLm1pbnV0ZXMnKTtcbi8vICAgdmFyIHNlY29uZCA9IHRpbWVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWNvbmRzJyk7XG4vLyAgIHZhciBkZWFkID0gJ0ZlYnJ1YXJ5IDE1IDIwMjIgMTg6MDA6MDAgR01UKzAyMDAnO1xuXG4vLyAgIGZ1bmN0aW9uIGdldFRpbWVSZW1haW5pbmcoZW5kdGltZSkge1xuLy8gICAgIHZhciB0b3RhbCA9IERhdGUucGFyc2UoZW5kdGltZSkgLSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpO1xuLy8gICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcigodG90YWwgLyAxMDAwKSAlIDYwKTtcbi8vICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKHRvdGFsIC8gMTAwMCAvIDYwKSAlIDYwKTtcbi8vICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKCh0b3RhbCAvICgxMDAwICogNjAgKiA2MCkpICUgMjQpO1xuLy8gICAgIHZhciBkYXlzID0gTWF0aC5mbG9vcih0b3RhbCAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4vLyAgICAgdmFyIHNlY29uZHNUb0Rpc3BsYXkgPSBzZWNvbmRzXG4vLyAgICAgICAudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuLy8gICAgICAgICBtaW5pbXVtSW50ZWdlckRpZ2l0czogMixcbi8vICAgICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlLFxuLy8gICAgICAgfSlcbi8vICAgICAgIC5zcGxpdCgnJylcbi8vICAgICAgIC5tYXAoZnVuY3Rpb24gKG51bSkge1xuLy8gICAgICAgICByZXR1cm4gTnVtYmVyKG51bSk7XG4vLyAgICAgICB9KTtcbi8vICAgICB2YXIgbWludXRlc1RvRGlzcGxheSA9IG1pbnV0ZXNcbi8vICAgICAgIC50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4vLyAgICAgICAgIG1pbmltdW1JbnRlZ2VyRGlnaXRzOiAyLFxuLy8gICAgICAgICB1c2VHcm91cGluZzogZmFsc2UsXG4vLyAgICAgICB9KVxuLy8gICAgICAgLnNwbGl0KCcnKVxuLy8gICAgICAgLm1hcChmdW5jdGlvbiAobnVtKSB7XG4vLyAgICAgICAgIHJldHVybiBOdW1iZXIobnVtKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIHZhciBob3Vyc1RvRGlzcGxheSA9IGhvdXJzXG4vLyAgICAgICAudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuLy8gICAgICAgICBtaW5pbXVtSW50ZWdlckRpZ2l0czogMixcbi8vICAgICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlLFxuLy8gICAgICAgfSlcbi8vICAgICAgIC5zcGxpdCgnJylcbi8vICAgICAgIC5tYXAoZnVuY3Rpb24gKG51bSkge1xuLy8gICAgICAgICByZXR1cm4gTnVtYmVyKG51bSk7XG4vLyAgICAgICB9KTtcbi8vICAgICB2YXIgZGF5c1RvRGlzcGxheSA9IGRheXNcbi8vICAgICAgIC50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4vLyAgICAgICAgIG1pbmltdW1JbnRlZ2VyRGlnaXRzOiAyLFxuLy8gICAgICAgICB1c2VHcm91cGluZzogZmFsc2UsXG4vLyAgICAgICB9KVxuLy8gICAgICAgLnNwbGl0KCcnKVxuLy8gICAgICAgLm1hcChmdW5jdGlvbiAobnVtKSB7XG4vLyAgICAgICAgIHJldHVybiBOdW1iZXIobnVtKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICB0b3RhbDogdG90YWwsXG4vLyAgICAgICBkYXlzOiBkYXlzLFxuLy8gICAgICAgaG91cnM6IGhvdXJzLFxuLy8gICAgICAgbWludXRlczogbWludXRlcyxcbi8vICAgICAgIHNlY29uZHM6IHNlY29uZHMsXG4vLyAgICAgICBkYXlzVG9EaXNwbGF5OiBkYXlzVG9EaXNwbGF5LFxuLy8gICAgICAgbWludXRlc1RvRGlzcGxheTogbWludXRlc1RvRGlzcGxheSxcbi8vICAgICAgIHNlY29uZHNUb0Rpc3BsYXk6IHNlY29uZHNUb0Rpc3BsYXksXG4vLyAgICAgICBob3Vyc1RvRGlzcGxheTogaG91cnNUb0Rpc3BsYXksXG4vLyAgICAgfTtcbi8vICAgfVxuXG4vLyAgIGZ1bmN0aW9uIGRlY2xPZk51bShudW1iZXIsIHRpdGxlcykge1xuLy8gICAgIHZhciBjYXNlcyA9IFsyLCAwLCAxLCAxLCAxLCAyXTtcbi8vICAgICByZXR1cm4gdGl0bGVzW1xuLy8gICAgICAgbnVtYmVyICUgMTAwID4gNCAmJiBudW1iZXIgJSAxMDAgPCAyMFxuLy8gICAgICAgICA/IDJcbi8vICAgICAgICAgOiBjYXNlc1tudW1iZXIgJSAxMCA8IDUgPyBudW1iZXIgJSAxMCA6IDVdXG4vLyAgICAgXTtcbi8vICAgfVxuXG4vLyAgIGZ1bmN0aW9uIGRheXNhYWFhKGRheSkge1xuLy8gICAgIGlmICgxID09PSBkYXkpIHtcbi8vICAgICAgIHJldHVybiAn0LTQtdC90YwnO1xuLy8gICAgIH0gZWxzZSBpZiAoZGF5ID09PSAwKSB7XG4vLyAgICAgICByZXR1cm4gJ9C00L1p0LInO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICByZXR1cm4gJ9C00L1pJztcbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICB2YXIgYWFhYSA9IGdldFRpbWVSZW1haW5pbmcoZGVhZCkuZGF5c1RvRGlzcGxheS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbi8vICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCIuY29uY2F0KGl0ZW0sICc8L2Rpdj4nKTtcbi8vICAgfSk7XG4vLyAgIGRheXMuaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICAuY29uY2F0KFxuLy8gICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5kYXlzVG9EaXNwbGF5WzBdLFxuLy8gICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgKVxuLy8gICAgIC5jb25jYXQoXG4vLyAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmRheXNUb0Rpc3BsYXlbMV0sXG4vLyAgICAgICBcIjwvZGl2PiAgPGRpdiBjbGFzcz0ndGltZXItZXh0cmEnPiBcIlxuLy8gICAgIClcbi8vICAgICAuY29uY2F0KGRheXNhYWFhKGdldFRpbWVSZW1haW5pbmcoZGVhZCkuZGF5cyksICcgPC9kaXY+Jyk7XG5cbi8vICAgZnVuY3Rpb24gc2hvd0hvdXJzKGhvdXJzKSB7XG4vLyAgICAgcmV0dXJuIGRlY2xPZk51bShob3VycywgWyfQs9C+0LTQuNC90LAnLCAn0LPQvtC00LjQvdC4JywgJ9Cz0L7QtNC40L0nXSk7XG4vLyAgIH1cblxuLy8gICBob3Vycy5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgIC5jb25jYXQoXG4vLyAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmhvdXJzVG9EaXNwbGF5WzBdLFxuLy8gICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgKVxuLy8gICAgIC5jb25jYXQoXG4vLyAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmhvdXJzVG9EaXNwbGF5WzFdLFxuLy8gICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItZXh0cmEnPiBcIlxuLy8gICAgIClcbi8vICAgICAuY29uY2F0KHNob3dIb3VycyhnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmhvdXJzKSwgJzwvZGl2PicpO1xuXG4vLyAgIGZ1bmN0aW9uIHNob3dNaW51dGVzKG1pbnV0ZXMpIHtcbi8vICAgICByZXR1cm4gZGVjbE9mTnVtKG1pbnV0ZXMsIFsn0YXQstC40LvQuNC90LAnLCAn0YXQstC40LvQuNC90LgnLCAn0YXQstC40LvQuNC9J10pO1xuLy8gICB9XG5cbi8vICAgbWludXRlcy5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgIC5jb25jYXQoXG4vLyAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLm1pbnV0ZXNUb0Rpc3BsYXlbMF0sXG4vLyAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICApXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkubWludXRlc1RvRGlzcGxheVsxXSxcbi8vICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWV4dHJhJz5cIlxuLy8gICAgIClcbi8vICAgICAuY29uY2F0KHNob3dNaW51dGVzKGdldFRpbWVSZW1haW5pbmcoZGVhZCkubWludXRlcyksICc8L2Rpdj4nKTtcblxuLy8gICBmdW5jdGlvbiBzaG93U2Vjb25kcyhzZWNvbmRzKSB7XG4vLyAgICAgcmV0dXJuIGRlY2xPZk51bShzZWNvbmRzLCBbJ9GB0LXQutGD0L3QtNCwJywgJ9GB0LXQutGD0L3QtNC4JywgJ9GB0LXQutGD0L3QtCddKTtcbi8vICAgfVxuXG4vLyAgIHNlY29uZC5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgIC5jb25jYXQoXG4vLyAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLnNlY29uZHNUb0Rpc3BsYXlbMF0sXG4vLyAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICApXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuc2Vjb25kc1RvRGlzcGxheVsxXSxcbi8vICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWV4dHJhJz4gXCJcbi8vICAgICApXG4vLyAgICAgLmNvbmNhdChzaG93U2Vjb25kcyhnZXRUaW1lUmVtYWluaW5nKGRlYWQpLnNlY29uZHMpLCAnPC9kaXY+Jyk7XG4vLyAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbi8vICAgICBmdW5jdGlvbiBkYXlzYWFhYShkYXkpIHtcbi8vICAgICAgIGlmIChkYXkgPT09IDEpIHtcbi8vICAgICAgICAgcmV0dXJuICfQtNC10L3RjCc7XG4vLyAgICAgICB9IGVsc2UgaWYgKGRheSA9PT0gMCkge1xuLy8gICAgICAgICByZXR1cm4gJ9C00L1p0LInO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgcmV0dXJuICfQtNC9aSc7XG4vLyAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgdmFyIGFhYWEgPSBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmRheXNUb0Rpc3BsYXkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4vLyAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCIuY29uY2F0KGl0ZW0sICc8L2Rpdj4nKTtcbi8vICAgICB9KTtcbi8vICAgICBkYXlzLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmRheXNUb0Rpc3BsYXlbMF0sXG4vLyAgICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgICAgKVxuLy8gICAgICAgLmNvbmNhdChcbi8vICAgICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5kYXlzVG9EaXNwbGF5WzFdLFxuLy8gICAgICAgICBcIjwvZGl2PiAgPGRpdiBjbGFzcz0ndGltZXItZXh0cmEnPiBcIlxuLy8gICAgICAgKVxuLy8gICAgICAgLmNvbmNhdChkYXlzYWFhYShnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmRheXMpLCAnIDwvZGl2PicpO1xuXG4vLyAgICAgZnVuY3Rpb24gc2hvd0hvdXJzKGhvdXJzKSB7XG4vLyAgICAgICByZXR1cm4gZGVjbE9mTnVtKGhvdXJzLCBbJ9Cz0L7QtNC40L3QsCcsICfQs9C+0LTQuNC90LgnLCAn0LPQvtC00LjQvSddKTtcbi8vICAgICB9XG5cbi8vICAgICBob3Vycy5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgICAgLmNvbmNhdChcbi8vICAgICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5ob3Vyc1RvRGlzcGxheVswXSxcbi8vICAgICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICApXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmhvdXJzVG9EaXNwbGF5WzFdLFxuLy8gICAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1leHRyYSc+IFwiXG4vLyAgICAgICApXG4vLyAgICAgICAuY29uY2F0KHNob3dIb3VycyhnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmhvdXJzKSwgJzwvZGl2PicpO1xuXG4vLyAgICAgZnVuY3Rpb24gc2hvd01pbnV0ZXMobWludXRlcykge1xuLy8gICAgICAgcmV0dXJuIGRlY2xPZk51bShtaW51dGVzLCBbJ9GF0LLQuNC70LjQvdCwJywgJ9GF0LLQuNC70LjQvdC4JywgJ9GF0LLQuNC70LjQvSddKTtcbi8vICAgICB9XG5cbi8vICAgICBtaW51dGVzLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLm1pbnV0ZXNUb0Rpc3BsYXlbMF0sXG4vLyAgICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgICAgKVxuLy8gICAgICAgLmNvbmNhdChcbi8vICAgICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5taW51dGVzVG9EaXNwbGF5WzFdLFxuLy8gICAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1leHRyYSc+XCJcbi8vICAgICAgIClcbi8vICAgICAgIC5jb25jYXQoc2hvd01pbnV0ZXMoZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5taW51dGVzKSwgJzwvZGl2PicpO1xuXG4vLyAgICAgZnVuY3Rpb24gc2hvd1NlY29uZHMoc2Vjb25kcykge1xuLy8gICAgICAgcmV0dXJuIGRlY2xPZk51bShzZWNvbmRzLCBbJ9GB0LXQutGD0L3QtNCwJywgJ9GB0LXQutGD0L3QtNC4JywgJ9GB0LXQutGD0L3QtCddKTtcbi8vICAgICB9XG5cbi8vICAgICBzZWNvbmQuaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICAgIC5jb25jYXQoXG4vLyAgICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuc2Vjb25kc1RvRGlzcGxheVswXSxcbi8vICAgICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICApXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLnNlY29uZHNUb0Rpc3BsYXlbMV0sXG4vLyAgICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWV4dHJhJz4gXCJcbi8vICAgICAgIClcbi8vICAgICAgIC5jb25jYXQoc2hvd1NlY29uZHMoZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5zZWNvbmRzKSwgJzwvZGl2PicpO1xuLy8gICB9LCAxMDAwKTtcbi8vIH0pO1xuKCd1c2Ugc3RyaWN0Jyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuZnVuY3Rpb24gdmlkZW9QbGF5KGJ1dHRvbikge1xuICB2YXIgeW91VHViZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYnV0dG9uKTtcbiAgeW91VHViZUJ1dHRvbi5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKFxuICAgICAgICAnc3JjJyxcbiAgICAgICAgZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJylcbiAgICAgICk7XG4gICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC50b2dnbGUoJ3ZpZGVvV3JhcHBlckFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcbn1cbiJdfQ==
