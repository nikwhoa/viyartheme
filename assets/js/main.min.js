"use strict";window.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#menu-header-menu .menu-item").forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".navigation__nav").classList.toggle("hamburger-navigation"),document.querySelector(".mobile-menu-btn__open").toggleAttribute("isOpened"),document.querySelector(".mobile-menu-btn__open").classList.replace("close-btn","open-btn"),document.documentElement.classList.remove("disable-scroll")})}),document.querySelector("#offline-tab").classList.add("active"),document.querySelector("#post_number-80").classList.add("active"),document.querySelector("#online-tab").addEventListener("click",function(){document.querySelector("#online-tab").classList.add("active"),document.querySelector("#offline-tab").classList.remove("active"),document.querySelector("#post_number-80").classList.remove("active"),document.querySelector("#post_number-88").classList.add("active")}),document.querySelector("#offline-tab").addEventListener("click",function(){console.log("offline-tab"),document.querySelector("#offline-tab").classList.add("active"),document.querySelector("#online-tab").classList.remove("active"),document.querySelector("#post_number-88").classList.remove("active"),document.querySelector("#post_number-80").classList.add("active")});var e=document.querySelector(".nav-wrapper"),t=document.querySelector(" .navigation__mobile-menu"),n=e.querySelector(".navigation__nav"),o=(e.querySelectorAll(".menu > li"),document.querySelector(".mobile-menu-btn__open"));document.querySelector(".mobile-menu-btn__close"),window.addEventListener("scroll",function(){200<window.pageYOffset?(e.classList.add("sticky-nav"),document.querySelector(".logo-js").src="./wp-content/themes/viyartheme/assets/img/logo-svg-sticky.svg"):window.pageYOffset<100&&(e.classList.remove("sticky-nav"),document.querySelector(".logo-js").src="./wp-content/themes/viyartheme/assets/img/logo-svg.svg")}),window.addEventListener("resize",function(){794<window.outerWidth?document.querySelector(".hamburger-phone").style.display="none":document.querySelector(".hamburger-phone").style.display="flex"}),window.outerWidth,t.addEventListener("click",function(){n.classList.toggle("hamburger-navigation"),o.toggleAttribute("isOpened"),o.classList.contains("open-btn")?o.classList.replace("open-btn","close-btn"):o.classList.replace("close-btn","open-btn");var e=document.createElement("div"),e=(e.setAttribute("id","hamburgerLine"),e.style.cssText="\n        width: 64px;\n        height: 1px;\n        background: #30A0F0;\n        margin: 1rem auto;\n        ",document.querySelector("#hamburgerLine")?console.log("hamburgerLine is exist"):n.appendChild(e),document.createElement("div"));e.classList.add("hamburger-phone"),e.innerHTML='\n        <a class="phone__link" href="tel:+380978929786"> \n        <div class="phone-icon flex-item">\n        \n        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path id="phone-icon" d="M17.4912 13.2102L14.9792 10.6982C14.0821 9.80111 12.557 10.16 12.1981 11.3262C11.929 12.1337 11.0319 12.5822 10.2245 12.4028C8.43021 11.9542 6.00797 9.62168 5.55941 7.73772C5.29027 6.93027 5.82855 6.03314 6.63596 5.76404C7.80222 5.40519 8.16108 3.88007 7.26395 2.98295L4.752 0.470991C4.03429 -0.156997 2.95774 -0.156997 2.32975 0.470991L0.625214 2.17553C-1.07933 3.96978 0.804639 8.72455 5.02113 12.941C9.23763 17.1575 13.9924 19.1313 15.7866 17.337L17.4912 15.6324C18.1192 14.9147 18.1192 13.8382 17.4912 13.2102Z" fill="white" />\n        </svg>\n        \n        </div>\n        <div class="phone-number flex-item">\n        \n        +380 97 892 97 86\n                    \n        </div>\n        </a>\n        ',document.querySelector(".hamburger-phone")?console.log("already exist"):n.appendChild(e),document.documentElement.classList.toggle("disable-scroll"),document.body.classList.toggle("disable-scroll")}),new Swiper(".swiper-speakers",{direction:"horizontal",centerInsufficientSlides:!0,slidesPerView:5,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpointsBase:"window",breakpoints:{320:{slidesPerView:1,spaceBetween:40},480:{slidesPerView:2,spaceBetween:30},700:{slidesPerView:3,spaceBetween:30},760:{slidesPerView:3,spaceBetween:30},991:{slidesPerView:4,spaceBetween:30},1160:{slidesPerView:5,spaceBetween:40}}}),new Swiper(".swiper-review",{init:!0,slidesPerView:"auto",noSwipingClass:"swiper-no-swiping",centeredSlides:!0,watchOverflow:!1,preventInteractionOnTransition:!0,loopAdditionalSlides:0,initialSlide:1,loopPreventsSlide:!1,loop:!0,navigation:{nextEl:".reviews-btn-next",prevEl:".reviews-btn-prev"},pagination:{el:".swiper-pagination-reviews",clickable:!0}});videoPlay(".js-videoPoster"),window.outerWidth<=991.98&&tabs(".tab",".tab_block",".tabs","active"),document.querySelectorAll(".disable-default").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault()})})});for(var question=document.querySelectorAll(".question"),answers=document.querySelectorAll(".answer"),i=0;i<question.length;i++)question[i].addEventListener("click",function(){var e=!this.classList.contains("active");setClass(question,"active","remove"),setClass(answers,"show","remove"),e&&(this.classList.toggle("active"),this.nextElementSibling.classList.toggle("show"))});function setClass(e,t,n){for(var o=0;o<e.length;o++)e[o].classList[n](t)}var modalCall=document.querySelector(".hf-form[data-id='56']"),modalRegisterOffline=document.querySelector(".hf-form[data-id='57']"),modalRegisterOnline=document.querySelector(".hf-form[data-id='58']"),callBtn=document.querySelectorAll("#call-order"),registerBtnOffline=document.querySelector("#register-button-offline"),registerBtnOnline=document.querySelector("#register-button-online"),closeModal=document.querySelectorAll(".close-modal"),formModal=document.querySelectorAll(".hf-form"),backToHomeBtns=[document.querySelector(".form__success-56"),document.querySelector(".form__success-57")],mutationObserver=(callBtn.forEach(function(e){e.addEventListener("click",function(){modalCall.style.display="block"})}),closeModal.forEach(function(e){e.addEventListener("click",function(){formModal.forEach(function(e){e.style.display="none"})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&formModal.forEach(function(e){e.style.display="none"})})}),registerBtnOffline.addEventListener("click",function(){modalRegisterOffline.style.display="block"}),registerBtnOnline.addEventListener("click",function(){modalRegisterOnline.style.display="block"}),new MutationObserver(function(e){e.forEach(function(e){"hf-form hf-form-56 mc4wp-loading"===e.oldValue?backToHomeBtns[0].style.display="block":"hf-form hf-form-57 mc4wp-loading"!==e.oldValue&&"hf-form hf-form-58 mc4wp-loading"!==e.oldValue||(backToHomeBtns[1].style.display="block")})}));function tabs(t,e,n,o){var i=document.querySelectorAll(t),s=document.querySelectorAll(e),e=document.querySelector(n);function l(){s.forEach(function(e){e.classList.add("hide"),e.classList.remove("show","fade")}),i.forEach(function(e){e.classList.remove(o)})}function r(e){e=0<arguments.length&&void 0!==e?e:0;s[e].classList.add("show","fade"),s[e].classList.remove("hide"),i[e].classList.add(o)}l(),r(),e.addEventListener("click",function(e){e.preventDefault();var n=e.target;n&&n.classList.contains(t.slice(1))&&i.forEach(function(e,t){n==e&&(l(),r(t))})})}function videoPlay(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.target.previousElementSibling.setAttribute("src",e.target.previousElementSibling.getAttribute("data-src")),e.target.parentNode.classList.toggle("videoWrapperActive")})})}formModal.forEach(function(e){mutationObserver.observe(e,{attributes:!0,attributeOldValue:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbS5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIml0ZW0iLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidG9nZ2xlQXR0cmlidXRlIiwicmVwbGFjZSIsImRvY3VtZW50RWxlbWVudCIsInJlbW92ZSIsImFkZCIsImNvbnNvbGUiLCJsb2ciLCJuYXZXcmFwcGVyIiwiaGFtYnVyZ2VyQnV0dG9uIiwibmF2aWdhdGlvbiIsImhhbWJ1cmdlck9wZW5CdXR0b24iLCJwYWdlWU9mZnNldCIsInNyYyIsIm91dGVyV2lkdGgiLCJzdHlsZSIsImRpc3BsYXkiLCJjb250YWlucyIsImhhbWJ1cmdlckxpbmUiLCJjcmVhdGVFbGVtZW50IiwiaGFtYnVyZ2VyUGhvbmUiLCJzZXRBdHRyaWJ1dGUiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJib2R5IiwiU3dpcGVyIiwiZGlyZWN0aW9uIiwiY2VudGVySW5zdWZmaWNpZW50U2xpZGVzIiwic2xpZGVzUGVyVmlldyIsImxvb3AiLCJwYWdpbmF0aW9uIiwiZWwiLCJjbGlja2FibGUiLCJuZXh0RWwiLCJwcmV2RWwiLCJicmVha3BvaW50c0Jhc2UiLCJicmVha3BvaW50cyIsIjMyMCIsInNwYWNlQmV0d2VlbiIsIjQ4MCIsIjcwMCIsIjc2MCIsIjk5MSIsIjExNjAiLCJpbml0Iiwibm9Td2lwaW5nQ2xhc3MiLCJjZW50ZXJlZFNsaWRlcyIsIndhdGNoT3ZlcmZsb3ciLCJwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24iLCJsb29wQWRkaXRpb25hbFNsaWRlcyIsImluaXRpYWxTbGlkZSIsImxvb3BQcmV2ZW50c1NsaWRlIiwidmlkZW9QbGF5IiwidGFicyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInF1ZXN0aW9uIiwiYW5zd2VycyIsImkiLCJsZW5ndGgiLCJzZXRDbGFzc2VzIiwidGhpcyIsInNldENsYXNzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZWxzIiwiY2xhc3NOYW1lIiwiZm5OYW1lIiwiX2kiLCJtb2RhbENhbGwiLCJtb2RhbFJlZ2lzdGVyT2ZmbGluZSIsIm1vZGFsUmVnaXN0ZXJPbmxpbmUiLCJjYWxsQnRuIiwicmVnaXN0ZXJCdG5PZmZsaW5lIiwicmVnaXN0ZXJCdG5PbmxpbmUiLCJjbG9zZU1vZGFsIiwiZm9ybU1vZGFsIiwiYmFja1RvSG9tZUJ0bnMiLCJtdXRhdGlvbk9ic2VydmVyIiwiZWxlbWVudCIsImtleSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXRhdGlvbiIsIm9sZFZhbHVlIiwidGFic1NlbGVjdG9yIiwidGFic0NvbnRlbnRTZWxlY3RvciIsInRhYnNQYXJlbnRTZWxlY3RvciIsImFjdGl2ZUNsYXNzIiwidGFic0NvbnRlbnQiLCJ0YWJzUGFyZW50IiwiaGlkZVRhYkNvbnRlbnQiLCJzaG93VGFiQ29udGVudCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImV2ZW50IiwidGFyZ2V0Iiwic2xpY2UiLCJidXR0b24iLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZ2V0QXR0cmlidXRlIiwicGFyZW50Tm9kZSIsImZvcm0iLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZU9sZFZhbHVlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUdBQSxPQUFBQyxpQkFBQSxtQkFBQSxXQUNBQyxTQUFBQyxpQkFDQSw4QkFDQSxFQUVBQyxRQUFBLElBQ0FDLEVBQUFKLGlCQUFBLFFBQUEsSUFDQUMsU0FDQUksY0FBQSxrQkFBQSxFQUNBQyxVQUFBQyxPQUFBLHNCQUFBLEVBRUFOLFNBQ0FJLGNBQUEsd0JBQUEsRUFDQUcsZ0JBQUEsVUFBQSxFQUVBUCxTQUNBSSxjQUFBLHdCQUFBLEVBQ0FDLFVBQUFHLFFBQUEsWUFBQSxVQUFBLEVBRUFSLFNBQUFTLGdCQUFBSixVQUFBSyxPQUFBLGdCQUFBLENBQ0EsQ0FBQSxDQUNBLENB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QUFBc0csR0FDQUEsRUFBQXZDLGVBQUEsRUFDQSxJQUFBd0MsRUFBQUQsRUFBQUMsT0FFQUEsR0FBQUEsRUFBQWpHLFVBQUFrQixTQUFBb0UsRUFBQVksTUFBQSxDQUFBLENBQUEsR0FDQTNDLEVBQUExRCxRQUFBLFNBQUFDLEVBQUE4RCxHQUNBcUMsR0FBQW5HLElBQ0E4RixFQUFBLEVBQ0FDLEVBQUFqQyxDQUFBLEVBRUEsQ0FBQSxDQUVBLENBQUEsQ0FDQSxDQTBOQSxTQUFBTixVQUFBNkMsR0FDQXhHLFNBQUFDLGlCQUFBdUcsQ0FBQSxFQUNBdEcsUUFBQSxTQUFBb0MsR0FDQUEsRUFBQXZDLGlCQUFBLFFBQUEsU0FBQThELEdBQ0FBLEVBQUFDLGVBQUEsRUFDQUQsRUFBQXlDLE9BQUFHLHVCQUFBOUUsYUFDQSxNQUNBa0MsRUFBQXlDLE9BQUFHLHVCQUFBQyxhQUFBLFVBQUEsQ0FDQSxFQUNBN0MsRUFBQXlDLE9BQUFLLFdBQUF0RyxVQUFBQyxPQUFBLG9CQUFBLENBQ0EsQ0FBQSxDQUNBLENBQUEsQ0FDQSxDQXpSQTRFLFVBQUFoRixRQUFBLFNBQUEwRyxHQUNBeEIsaUJBQUF5QixRQUFBRCxFQUFBLENBQ0FFLFdBQUEsQ0FBQSxFQUNBQyxrQkFBQSxDQUFBLENBQ0EsQ0FBQSxDQUNBLENBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXRyYWlsaW5nLXNwYWNlcyAqL1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGhlYWRlck1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJyNtZW51LWhlYWRlci1tZW51IC5tZW51LWl0ZW0nXG4gICk7XG5cbiAgaGVhZGVyTWVudUl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbl9fbmF2JylcbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlci1uYXZpZ2F0aW9uJyk7XG5cbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW1lbnUtYnRuX19vcGVuJylcbiAgICAgICAgLnRvZ2dsZUF0dHJpYnV0ZSgnaXNPcGVuZWQnKTtcblxuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbWVudS1idG5fX29wZW4nKVxuICAgICAgICAuY2xhc3NMaXN0LnJlcGxhY2UoJ2Nsb3NlLWJ0bicsICdvcGVuLWJ0bicpO1xuXG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZS1zY3JvbGwnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29mZmxpbmUtdGFiJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3N0X251bWJlci04MCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvbmxpbmUtdGFiJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29ubGluZS10YWInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb2ZmbGluZS10YWInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9zdF9udW1iZXItODAnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9zdF9udW1iZXItODgnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvZmZsaW5lLXRhYicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdvZmZsaW5lLXRhYicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvZmZsaW5lLXRhYicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvbmxpbmUtdGFiJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3RfbnVtYmVyLTg4JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3RfbnVtYmVyLTgwJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH0pO1xuICB2YXIgbmF2V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtd3JhcHBlcicpLFxuICAgIGhhbWJ1cmdlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyAubmF2aWdhdGlvbl9fbW9iaWxlLW1lbnUnKSxcbiAgICBuYXZpZ2F0aW9uID0gbmF2V3JhcHBlci5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbl9fbmF2JyksXG4gICAgbWVudSA9IG5hdldyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLm1lbnUgPiBsaScpLFxuICAgIGhhbWJ1cmdlck9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW1lbnUtYnRuX19vcGVuJyksXG4gICAgaGFtYnVyZ2VyQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW1lbnUtYnRuX19jbG9zZScpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgIGlmIChcbiAgICAgIDIwMCA8IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgLyogYWRkZWQgcGFnZVlPZmZzZXQgZm9yIGllICovXG4gICAgKSB7XG4gICAgICBuYXZXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3N0aWNreS1uYXYnKTtcbiAgICAgIHZhciBsb2dvSnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9nby1qcycpO1xuICAgICAgbG9nb0pzLnNyYyA9XG4gICAgICAgICcuL3dwLWNvbnRlbnQvdGhlbWVzL3ZpeWFydGhlbWUvYXNzZXRzL2ltZy9sb2dvLXN2Zy1zdGlja3kuc3ZnJztcbiAgICB9IGVsc2UgaWYgKDEwMCA+IHdpbmRvdy5wYWdlWU9mZnNldCkge1xuICAgICAgbmF2V3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja3ktbmF2Jyk7XG5cbiAgICAgIHZhciBfbG9nb0pzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ28tanMnKTtcblxuICAgICAgX2xvZ29Kcy5zcmMgPSAnLi93cC1jb250ZW50L3RoZW1lcy92aXlhcnRoZW1lL2Fzc2V0cy9pbWcvbG9nby1zdmcuc3ZnJztcbiAgICB9XG4gIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgeW9kYVxuXG4gIC8vIHJlc2l6ZVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cub3V0ZXJXaWR0aCA+IDc5NCkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlci1waG9uZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXItcGhvbmUnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHdpbmRvdy5vdXRlcldpZHRoIDw9IDc5NCkge1xuICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXItcGhvbmUnKS5cbiAgICAvLyBuYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgtY29udGFpbmVyJyk7XG4gICAgLy8gbWVudS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIC8vICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgIG5hdmlnYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnaGFtYnVyZ2VyLW5hdmlnYXRpb24nKTtcbiAgICAvLyAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGUtc2Nyb2xsJyk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIGhhbWJ1cmdlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBuYXZpZ2F0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlci1uYXZpZ2F0aW9uJyk7XG4gICAgaGFtYnVyZ2VyT3BlbkJ1dHRvbi50b2dnbGVBdHRyaWJ1dGUoJ2lzT3BlbmVkJyk7IC8vIGhhbWJ1cmdlck9wZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnY2xvc2UtYnRuJyk7XG5cbiAgICBpZiAoaGFtYnVyZ2VyT3BlbkJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW4tYnRuJykpIHtcbiAgICAgIGhhbWJ1cmdlck9wZW5CdXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoJ29wZW4tYnRuJywgJ2Nsb3NlLWJ0bicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW1idXJnZXJPcGVuQnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKCdjbG9zZS1idG4nLCAnb3Blbi1idG4nKTtcbiAgICB9XG5cbiAgICB2YXIgaGFtYnVyZ2VyTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhhbWJ1cmdlckxpbmUuc2V0QXR0cmlidXRlKCdpZCcsICdoYW1idXJnZXJMaW5lJyk7XG4gICAgaGFtYnVyZ2VyTGluZS5zdHlsZS5jc3NUZXh0ID1cbiAgICAgICdcXG4gICAgICAgIHdpZHRoOiA2NHB4O1xcbiAgICAgICAgaGVpZ2h0OiAxcHg7XFxuICAgICAgICBiYWNrZ3JvdW5kOiAjMzBBMEYwO1xcbiAgICAgICAgbWFyZ2luOiAxcmVtIGF1dG87XFxuICAgICAgICAnO1xuXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXJMaW5lJykpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdoYW1idXJnZXJMaW5lIGlzIGV4aXN0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hdmlnYXRpb24uYXBwZW5kQ2hpbGQoaGFtYnVyZ2VyTGluZSk7XG4gICAgfVxuXG4gICAgdmFyIGhhbWJ1cmdlclBob25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaGFtYnVyZ2VyUGhvbmUuY2xhc3NMaXN0LmFkZCgnaGFtYnVyZ2VyLXBob25lJyk7XG4gICAgaGFtYnVyZ2VyUGhvbmUuaW5uZXJIVE1MID1cbiAgICAgICdcXG4gICAgICAgIDxhIGNsYXNzPVwicGhvbmVfX2xpbmtcIiBocmVmPVwidGVsOiszODA5Nzg5Mjk3ODZcIj4gXFxuICAgICAgICA8ZGl2IGNsYXNzPVwicGhvbmUtaWNvbiBmbGV4LWl0ZW1cIj5cXG4gICAgICAgIFxcbiAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XFxuICAgICAgICA8cGF0aCBpZD1cInBob25lLWljb25cIiBkPVwiTTE3LjQ5MTIgMTMuMjEwMkwxNC45NzkyIDEwLjY5ODJDMTQuMDgyMSA5LjgwMTExIDEyLjU1NyAxMC4xNiAxMi4xOTgxIDExLjMyNjJDMTEuOTI5IDEyLjEzMzcgMTEuMDMxOSAxMi41ODIyIDEwLjIyNDUgMTIuNDAyOEM4LjQzMDIxIDExLjk1NDIgNi4wMDc5NyA5LjYyMTY4IDUuNTU5NDEgNy43Mzc3MkM1LjI5MDI3IDYuOTMwMjcgNS44Mjg1NSA2LjAzMzE0IDYuNjM1OTYgNS43NjQwNEM3LjgwMjIyIDUuNDA1MTkgOC4xNjEwOCAzLjg4MDA3IDcuMjYzOTUgMi45ODI5NUw0Ljc1MiAwLjQ3MDk5MUM0LjAzNDI5IC0wLjE1Njk5NyAyLjk1Nzc0IC0wLjE1Njk5NyAyLjMyOTc1IDAuNDcwOTkxTDAuNjI1MjE0IDIuMTc1NTNDLTEuMDc5MzMgMy45Njk3OCAwLjgwNDYzOSA4LjcyNDU1IDUuMDIxMTMgMTIuOTQxQzkuMjM3NjMgMTcuMTU3NSAxMy45OTI0IDE5LjEzMTMgMTUuNzg2NiAxNy4zMzdMMTcuNDkxMiAxNS42MzI0QzE4LjExOTIgMTQuOTE0NyAxOC4xMTkyIDEzLjgzODIgMTcuNDkxMiAxMy4yMTAyWlwiIGZpbGw9XCJ3aGl0ZVwiIC8+XFxuICAgICAgICA8L3N2Zz5cXG4gICAgICAgIFxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwicGhvbmUtbnVtYmVyIGZsZXgtaXRlbVwiPlxcbiAgICAgICAgXFxuICAgICAgICArMzgwIDk3IDg5MiA5NyA4NlxcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvYT5cXG4gICAgICAgICc7XG5cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlci1waG9uZScpKSB7XG4gICAgICBjb25zb2xlLmxvZygnYWxyZWFkeSBleGlzdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYXZpZ2F0aW9uLmFwcGVuZENoaWxkKGhhbWJ1cmdlclBob25lKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZS1zY3JvbGwnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGUtc2Nyb2xsJyk7XG4gIH0pO1xuICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1zcGVha2VycycsIHtcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICBjZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXM6IHRydWUsXG4gICAgc2xpZGVzUGVyVmlldzogNSxcbiAgICBsb29wOiB0cnVlLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldicsXG4gICAgfSxcbiAgICBicmVha3BvaW50c0Jhc2U6ICd3aW5kb3cnLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAvLyB3aGVuIHdpbmRvdyB3aWR0aCBpcyA+PSAzMjBweFxuICAgICAgMzIwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXG4gICAgICB9LFxuICAgICAgLy8gd2hlbiB3aW5kb3cgd2lkdGggaXMgPj0gNDgwcHhcbiAgICAgIDQ4MDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgfSxcbiAgICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDQ4MHB4XG4gICAgICA3MDA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICAvLyB3aGVuIHdpbmRvdyB3aWR0aCBpcyA+PSA3NjBweFxuICAgICAgNzYwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICB9LFxuICAgICAgLy8gd2hlbiB3aW5kb3cgd2lkdGggaXMgPj0gOTkxcHhcbiAgICAgIDk5MToge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgfSxcbiAgICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDExNjBweFxuICAgICAgMTE2MDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxuICAgICAgICBzcGFjZUJldHdlZW46IDQwLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbiAgdmFyIHN3aXBlclJldmlldyA9IG5ldyBTd2lwZXIoJy5zd2lwZXItcmV2aWV3Jywge1xuICAgIGluaXQ6IHRydWUsXG4gICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIG5vU3dpcGluZ0NsYXNzOiAnc3dpcGVyLW5vLXN3aXBpbmcnLFxuICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgIHdhdGNoT3ZlcmZsb3c6IGZhbHNlLFxuICAgIHByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICBsb29wQWRkaXRpb25hbFNsaWRlczogMCxcbiAgICBpbml0aWFsU2xpZGU6IDEsXG4gICAgbG9vcFByZXZlbnRzU2xpZGU6IGZhbHNlLFxuICAgIGxvb3A6IHRydWUsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLnJldmlld3MtYnRuLW5leHQnLFxuICAgICAgcHJldkVsOiAnLnJldmlld3MtYnRuLXByZXYnLFxuICAgIH0sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24tcmV2aWV3cycsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfSxcbiAgfSk7XG4gIHZpZGVvUGxheSgnLmpzLXZpZGVvUG9zdGVyJyk7XG5cbiAgaWYgKHdpbmRvdy5vdXRlcldpZHRoIDw9IDk5MS45OCkge1xuICAgIHRhYnMoJy50YWInLCAnLnRhYl9ibG9jaycsICcudGFicycsICdhY3RpdmUnKTtcbiAgfVxuXG4gIHZhciBsaW5rVG9EaXNhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpc2FibGUtZGVmYXVsdCcpO1xuICBsaW5rVG9EaXNhYmxlLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuKCd1c2Ugc3RyaWN0Jyk7XG5cbnZhciBxdWVzdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbicpLFxuICBhbnN3ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuc3dlcicpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IHF1ZXN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gIHF1ZXN0aW9uW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZXRDbGFzc2VzID0gIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICBzZXRDbGFzcyhxdWVzdGlvbiwgJ2FjdGl2ZScsICdyZW1vdmUnKTtcbiAgICBzZXRDbGFzcyhhbnN3ZXJzLCAnc2hvdycsICdyZW1vdmUnKTtcblxuICAgIGlmIChzZXRDbGFzc2VzKSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldENsYXNzKGVscywgY2xhc3NOYW1lLCBmbk5hbWUpIHtcbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGVscy5sZW5ndGg7IF9pKyspIHtcbiAgICBlbHNbX2ldLmNsYXNzTGlzdFtmbk5hbWVdKGNsYXNzTmFtZSk7XG4gIH1cbn0gLy8gcXVlc3Rpb24uZm9yRWFjaChlbCA9PiB7XG4vLyAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuLy8gICAgICAgICBoaWRlQWxsKCk7XG4vLyAgICAgICAgIGVsLmNoaWxkcmVuWzFdLmNsYXNzTGlzdC50b2dnbGUoICdzaG93JyApO1xuLy8gICAgIH0pO1xuLy8gfSk7XG4vLyBmdW5jdGlvbiBoaWRlQWxsKCkge1xuLy8gICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHF1ZXN0aW9uLmxlbmd0aDsgaSsrICkge1xuLy8gICAgICAgICBxdWVzdGlvbltpXS5jaGlsZHJlblsxXS5jbGFzc0xpc3QudG9nZ2xlKCAnc2hvdycsIGZhbHNlICk7XG4vLyAgICAgfVxuLy8gfTtcbigndXNlIHN0cmljdCcpO1xuXG4vLyBHZXQgdGhlIG1vZGFsXG52YXIgbW9kYWxDYWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZi1mb3JtW2RhdGEtaWQ9JzU2J11cIik7XG52YXIgbW9kYWxSZWdpc3Rlck9mZmxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhmLWZvcm1bZGF0YS1pZD0nNTcnXVwiKTtcbnZhciBtb2RhbFJlZ2lzdGVyT25saW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZi1mb3JtW2RhdGEtaWQ9JzU4J11cIik7XG52YXIgY2FsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjYWxsLW9yZGVyJyk7XG52YXIgcmVnaXN0ZXJCdG5PZmZsaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlZ2lzdGVyLWJ1dHRvbi1vZmZsaW5lJyk7XG52YXIgcmVnaXN0ZXJCdG5PbmxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVnaXN0ZXItYnV0dG9uLW9ubGluZScpO1xudmFyIGNsb3NlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UtbW9kYWwnKTtcbnZhciBmb3JtTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGYtZm9ybScpO1xudmFyIGJhY2tUb0hvbWVCdG5zID0gW1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3VjY2Vzcy01NicpLFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3VjY2Vzcy01NycpLFxuXTtcbmNhbGxCdG4uZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgbW9kYWxDYWxsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9KTtcbn0pO1xuY2xvc2VNb2RhbC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBmb3JtTW9kYWwuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCdFc2NhcGUnID09PSBlLmtleSkge1xuICAgICAgZm9ybU1vZGFsLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xucmVnaXN0ZXJCdG5PZmZsaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBtb2RhbFJlZ2lzdGVyT2ZmbGluZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn0pO1xucmVnaXN0ZXJCdG5PbmxpbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIG1vZGFsUmVnaXN0ZXJPbmxpbmUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59KTtcbnZhciBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICBpZiAobXV0YXRpb24ub2xkVmFsdWUgPT09ICdoZi1mb3JtIGhmLWZvcm0tNTYgbWM0d3AtbG9hZGluZycpIHtcbiAgICAgIGJhY2tUb0hvbWVCdG5zWzBdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH0gZWxzZSBpZiAobXV0YXRpb24ub2xkVmFsdWUgPT09ICdoZi1mb3JtIGhmLWZvcm0tNTcgbWM0d3AtbG9hZGluZycpIHtcbiAgICAgIGJhY2tUb0hvbWVCdG5zWzFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH0gZWxzZSBpZiAobXV0YXRpb24ub2xkVmFsdWUgPT09ICdoZi1mb3JtIGhmLWZvcm0tNTggbWM0d3AtbG9hZGluZycpIHtcbiAgICAgIGJhY2tUb0hvbWVCdG5zWzFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgfSk7XG59KTtcbmZvcm1Nb2RhbC5mb3JFYWNoKGZ1bmN0aW9uIChmb3JtKSB7XG4gIG11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShmb3JtLCB7XG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgfSk7XG59KTtcbigndXNlIHN0cmljdCcpO1xuXG5mdW5jdGlvbiB0YWJzKFxuICB0YWJzU2VsZWN0b3IsXG4gIHRhYnNDb250ZW50U2VsZWN0b3IsXG4gIHRhYnNQYXJlbnRTZWxlY3RvcixcbiAgYWN0aXZlQ2xhc3Ncbikge1xuICB2YXIgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFic1NlbGVjdG9yKSxcbiAgICB0YWJzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFic0NvbnRlbnRTZWxlY3RvciksXG4gICAgdGFic1BhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFic1BhcmVudFNlbGVjdG9yKTtcblxuICBmdW5jdGlvbiBoaWRlVGFiQ29udGVudCgpIHtcbiAgICB0YWJzQ29udGVudC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycsICdmYWRlJyk7XG4gICAgfSk7XG4gICAgdGFicy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd1RhYkNvbnRlbnQoKSB7XG4gICAgdmFyIGkgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHRhYnNDb250ZW50W2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3cnLCAnZmFkZScpO1xuICAgIHRhYnNDb250ZW50W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICB0YWJzW2ldLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuICB9XG5cbiAgaGlkZVRhYkNvbnRlbnQoKTtcbiAgc2hvd1RhYkNvbnRlbnQoKTtcbiAgdGFic1BhcmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0YWJzU2VsZWN0b3Iuc2xpY2UoMSkpKSB7XG4gICAgICB0YWJzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PSBpdGVtKSB7XG4gICAgICAgICAgaGlkZVRhYkNvbnRlbnQoKTtcbiAgICAgICAgICBzaG93VGFiQ29udGVudChpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbigndXNlIHN0cmljdCcpO1xuXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuLy8gICAvLyB0aW1lclxuLy8gICB2YXIgdGltZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZXInKTtcbi8vICAgdmFyIGRheXMgPSB0aW1lci5xdWVyeVNlbGVjdG9yKCcuZGF5cycpO1xuLy8gICB2YXIgaG91cnMgPSB0aW1lci5xdWVyeVNlbGVjdG9yKCcuaG91cnMnKTtcbi8vICAgdmFyIG1pbnV0ZXMgPSB0aW1lci5xdWVyeVNlbGVjdG9yKCcubWludXRlcycpO1xuLy8gICB2YXIgc2Vjb25kID0gdGltZXIucXVlcnlTZWxlY3RvcignLnNlY29uZHMnKTtcbi8vICAgdmFyIGRlYWQgPSAnRmVicnVhcnkgMTUgMjAyMiAxODowMDowMCBHTVQrMDIwMCc7XG5cbi8vICAgZnVuY3Rpb24gZ2V0VGltZVJlbWFpbmluZyhlbmR0aW1lKSB7XG4vLyAgICAgdmFyIHRvdGFsID0gRGF0ZS5wYXJzZShlbmR0aW1lKSAtIERhdGUucGFyc2UobmV3IERhdGUoKSk7XG4vLyAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKCh0b3RhbCAvIDEwMDApICUgNjApO1xuLy8gICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigodG90YWwgLyAxMDAwIC8gNjApICUgNjApO1xuLy8gICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IoKHRvdGFsIC8gKDEwMDAgKiA2MCAqIDYwKSkgJSAyNCk7XG4vLyAgICAgdmFyIGRheXMgPSBNYXRoLmZsb29yKHRvdGFsIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbi8vICAgICB2YXIgc2Vjb25kc1RvRGlzcGxheSA9IHNlY29uZHNcbi8vICAgICAgIC50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4vLyAgICAgICAgIG1pbmltdW1JbnRlZ2VyRGlnaXRzOiAyLFxuLy8gICAgICAgICB1c2VHcm91cGluZzogZmFsc2UsXG4vLyAgICAgICB9KVxuLy8gICAgICAgLnNwbGl0KCcnKVxuLy8gICAgICAgLm1hcChmdW5jdGlvbiAobnVtKSB7XG4vLyAgICAgICAgIHJldHVybiBOdW1iZXIobnVtKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIHZhciBtaW51dGVzVG9EaXNwbGF5ID0gbWludXRlc1xuLy8gICAgICAgLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbi8vICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXG4vLyAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcbi8vICAgICAgIH0pXG4vLyAgICAgICAuc3BsaXQoJycpXG4vLyAgICAgICAubWFwKGZ1bmN0aW9uIChudW0pIHtcbi8vICAgICAgICAgcmV0dXJuIE51bWJlcihudW0pO1xuLy8gICAgICAgfSk7XG4vLyAgICAgdmFyIGhvdXJzVG9EaXNwbGF5ID0gaG91cnNcbi8vICAgICAgIC50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4vLyAgICAgICAgIG1pbmltdW1JbnRlZ2VyRGlnaXRzOiAyLFxuLy8gICAgICAgICB1c2VHcm91cGluZzogZmFsc2UsXG4vLyAgICAgICB9KVxuLy8gICAgICAgLnNwbGl0KCcnKVxuLy8gICAgICAgLm1hcChmdW5jdGlvbiAobnVtKSB7XG4vLyAgICAgICAgIHJldHVybiBOdW1iZXIobnVtKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIHZhciBkYXlzVG9EaXNwbGF5ID0gZGF5c1xuLy8gICAgICAgLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbi8vICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXG4vLyAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcbi8vICAgICAgIH0pXG4vLyAgICAgICAuc3BsaXQoJycpXG4vLyAgICAgICAubWFwKGZ1bmN0aW9uIChudW0pIHtcbi8vICAgICAgICAgcmV0dXJuIE51bWJlcihudW0pO1xuLy8gICAgICAgfSk7XG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgIHRvdGFsOiB0b3RhbCxcbi8vICAgICAgIGRheXM6IGRheXMsXG4vLyAgICAgICBob3VyczogaG91cnMsXG4vLyAgICAgICBtaW51dGVzOiBtaW51dGVzLFxuLy8gICAgICAgc2Vjb25kczogc2Vjb25kcyxcbi8vICAgICAgIGRheXNUb0Rpc3BsYXk6IGRheXNUb0Rpc3BsYXksXG4vLyAgICAgICBtaW51dGVzVG9EaXNwbGF5OiBtaW51dGVzVG9EaXNwbGF5LFxuLy8gICAgICAgc2Vjb25kc1RvRGlzcGxheTogc2Vjb25kc1RvRGlzcGxheSxcbi8vICAgICAgIGhvdXJzVG9EaXNwbGF5OiBob3Vyc1RvRGlzcGxheSxcbi8vICAgICB9O1xuLy8gICB9XG5cbi8vICAgZnVuY3Rpb24gZGVjbE9mTnVtKG51bWJlciwgdGl0bGVzKSB7XG4vLyAgICAgdmFyIGNhc2VzID0gWzIsIDAsIDEsIDEsIDEsIDJdO1xuLy8gICAgIHJldHVybiB0aXRsZXNbXG4vLyAgICAgICBudW1iZXIgJSAxMDAgPiA0ICYmIG51bWJlciAlIDEwMCA8IDIwXG4vLyAgICAgICAgID8gMlxuLy8gICAgICAgICA6IGNhc2VzW251bWJlciAlIDEwIDwgNSA/IG51bWJlciAlIDEwIDogNV1cbi8vICAgICBdO1xuLy8gICB9XG5cbi8vICAgZnVuY3Rpb24gZGF5c2FhYWEoZGF5KSB7XG4vLyAgICAgaWYgKDEgPT09IGRheSkge1xuLy8gICAgICAgcmV0dXJuICfQtNC10L3RjCc7XG4vLyAgICAgfSBlbHNlIGlmIChkYXkgPT09IDApIHtcbi8vICAgICAgIHJldHVybiAn0LTQvWnQsic7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgIHJldHVybiAn0LTQvWknO1xuLy8gICAgIH1cbi8vICAgfVxuXG4vLyAgIHZhciBhYWFhID0gZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5kYXlzVG9EaXNwbGF5Lm1hcChmdW5jdGlvbiAoaXRlbSkge1xuLy8gICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIi5jb25jYXQoaXRlbSwgJzwvZGl2PicpO1xuLy8gICB9KTtcbi8vICAgZGF5cy5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgIC5jb25jYXQoXG4vLyAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmRheXNUb0Rpc3BsYXlbMF0sXG4vLyAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICApXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuZGF5c1RvRGlzcGxheVsxXSxcbi8vICAgICAgIFwiPC9kaXY+ICA8ZGl2IGNsYXNzPSd0aW1lci1leHRyYSc+IFwiXG4vLyAgICAgKVxuLy8gICAgIC5jb25jYXQoZGF5c2FhYWEoZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5kYXlzKSwgJyA8L2Rpdj4nKTtcblxuLy8gICBmdW5jdGlvbiBzaG93SG91cnMoaG91cnMpIHtcbi8vICAgICByZXR1cm4gZGVjbE9mTnVtKGhvdXJzLCBbJ9Cz0L7QtNC40L3QsCcsICfQs9C+0LTQuNC90LgnLCAn0LPQvtC00LjQvSddKTtcbi8vICAgfVxuXG4vLyAgIGhvdXJzLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuaG91cnNUb0Rpc3BsYXlbMF0sXG4vLyAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICApXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuaG91cnNUb0Rpc3BsYXlbMV0sXG4vLyAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1leHRyYSc+IFwiXG4vLyAgICAgKVxuLy8gICAgIC5jb25jYXQoc2hvd0hvdXJzKGdldFRpbWVSZW1haW5pbmcoZGVhZCkuaG91cnMpLCAnPC9kaXY+Jyk7XG5cbi8vICAgZnVuY3Rpb24gc2hvd01pbnV0ZXMobWludXRlcykge1xuLy8gICAgIHJldHVybiBkZWNsT2ZOdW0obWludXRlcywgWyfRhdCy0LjQu9C40L3QsCcsICfRhdCy0LjQu9C40L3QuCcsICfRhdCy0LjQu9C40L0nXSk7XG4vLyAgIH1cblxuLy8gICBtaW51dGVzLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkubWludXRlc1RvRGlzcGxheVswXSxcbi8vICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgIClcbi8vICAgICAuY29uY2F0KFxuLy8gICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5taW51dGVzVG9EaXNwbGF5WzFdLFxuLy8gICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItZXh0cmEnPlwiXG4vLyAgICAgKVxuLy8gICAgIC5jb25jYXQoc2hvd01pbnV0ZXMoZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5taW51dGVzKSwgJzwvZGl2PicpO1xuXG4vLyAgIGZ1bmN0aW9uIHNob3dTZWNvbmRzKHNlY29uZHMpIHtcbi8vICAgICByZXR1cm4gZGVjbE9mTnVtKHNlY29uZHMsIFsn0YHQtdC60YPQvdC00LAnLCAn0YHQtdC60YPQvdC00LgnLCAn0YHQtdC60YPQvdC0J10pO1xuLy8gICB9XG5cbi8vICAgc2Vjb25kLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgLmNvbmNhdChcbi8vICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuc2Vjb25kc1RvRGlzcGxheVswXSxcbi8vICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgIClcbi8vICAgICAuY29uY2F0KFxuLy8gICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5zZWNvbmRzVG9EaXNwbGF5WzFdLFxuLy8gICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItZXh0cmEnPiBcIlxuLy8gICAgIClcbi8vICAgICAuY29uY2F0KHNob3dTZWNvbmRzKGdldFRpbWVSZW1haW5pbmcoZGVhZCkuc2Vjb25kcyksICc8L2Rpdj4nKTtcbi8vICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuLy8gICAgIGZ1bmN0aW9uIGRheXNhYWFhKGRheSkge1xuLy8gICAgICAgaWYgKGRheSA9PT0gMSkge1xuLy8gICAgICAgICByZXR1cm4gJ9C00LXQvdGMJztcbi8vICAgICAgIH0gZWxzZSBpZiAoZGF5ID09PSAwKSB7XG4vLyAgICAgICAgIHJldHVybiAn0LTQvWnQsic7XG4vLyAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICByZXR1cm4gJ9C00L1pJztcbi8vICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgICB2YXIgYWFhYSA9IGdldFRpbWVSZW1haW5pbmcoZGVhZCkuZGF5c1RvRGlzcGxheS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbi8vICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIi5jb25jYXQoaXRlbSwgJzwvZGl2PicpO1xuLy8gICAgIH0pO1xuLy8gICAgIGRheXMuaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICAgIC5jb25jYXQoXG4vLyAgICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuZGF5c1RvRGlzcGxheVswXSxcbi8vICAgICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICApXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmRheXNUb0Rpc3BsYXlbMV0sXG4vLyAgICAgICAgIFwiPC9kaXY+ICA8ZGl2IGNsYXNzPSd0aW1lci1leHRyYSc+IFwiXG4vLyAgICAgICApXG4vLyAgICAgICAuY29uY2F0KGRheXNhYWFhKGdldFRpbWVSZW1haW5pbmcoZGVhZCkuZGF5cyksICcgPC9kaXY+Jyk7XG5cbi8vICAgICBmdW5jdGlvbiBzaG93SG91cnMoaG91cnMpIHtcbi8vICAgICAgIHJldHVybiBkZWNsT2ZOdW0oaG91cnMsIFsn0LPQvtC00LjQvdCwJywgJ9Cz0L7QtNC40L3QuCcsICfQs9C+0LTQuNC9J10pO1xuLy8gICAgIH1cblxuLy8gICAgIGhvdXJzLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLmhvdXJzVG9EaXNwbGF5WzBdLFxuLy8gICAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICAgIClcbi8vICAgICAgIC5jb25jYXQoXG4vLyAgICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuaG91cnNUb0Rpc3BsYXlbMV0sXG4vLyAgICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWV4dHJhJz4gXCJcbi8vICAgICAgIClcbi8vICAgICAgIC5jb25jYXQoc2hvd0hvdXJzKGdldFRpbWVSZW1haW5pbmcoZGVhZCkuaG91cnMpLCAnPC9kaXY+Jyk7XG5cbi8vICAgICBmdW5jdGlvbiBzaG93TWludXRlcyhtaW51dGVzKSB7XG4vLyAgICAgICByZXR1cm4gZGVjbE9mTnVtKG1pbnV0ZXMsIFsn0YXQstC40LvQuNC90LAnLCAn0YXQstC40LvQuNC90LgnLCAn0YXQstC40LvQuNC9J10pO1xuLy8gICAgIH1cblxuLy8gICAgIG1pbnV0ZXMuaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICAgIC5jb25jYXQoXG4vLyAgICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkubWludXRlc1RvRGlzcGxheVswXSxcbi8vICAgICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItYmcnPlwiXG4vLyAgICAgICApXG4vLyAgICAgICAuY29uY2F0KFxuLy8gICAgICAgICBnZXRUaW1lUmVtYWluaW5nKGRlYWQpLm1pbnV0ZXNUb0Rpc3BsYXlbMV0sXG4vLyAgICAgICAgIFwiPC9kaXY+IDxkaXYgY2xhc3M9J3RpbWVyLWV4dHJhJz5cIlxuLy8gICAgICAgKVxuLy8gICAgICAgLmNvbmNhdChzaG93TWludXRlcyhnZXRUaW1lUmVtYWluaW5nKGRlYWQpLm1pbnV0ZXMpLCAnPC9kaXY+Jyk7XG5cbi8vICAgICBmdW5jdGlvbiBzaG93U2Vjb25kcyhzZWNvbmRzKSB7XG4vLyAgICAgICByZXR1cm4gZGVjbE9mTnVtKHNlY29uZHMsIFsn0YHQtdC60YPQvdC00LAnLCAn0YHQtdC60YPQvdC00LgnLCAn0YHQtdC60YPQvdC0J10pO1xuLy8gICAgIH1cblxuLy8gICAgIHNlY29uZC5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RpbWVyLWJnJz5cIlxuLy8gICAgICAgLmNvbmNhdChcbi8vICAgICAgICAgZ2V0VGltZVJlbWFpbmluZyhkZWFkKS5zZWNvbmRzVG9EaXNwbGF5WzBdLFxuLy8gICAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSd0aW1lci1iZyc+XCJcbi8vICAgICAgIClcbi8vICAgICAgIC5jb25jYXQoXG4vLyAgICAgICAgIGdldFRpbWVSZW1haW5pbmcoZGVhZCkuc2Vjb25kc1RvRGlzcGxheVsxXSxcbi8vICAgICAgICAgXCI8L2Rpdj4gPGRpdiBjbGFzcz0ndGltZXItZXh0cmEnPiBcIlxuLy8gICAgICAgKVxuLy8gICAgICAgLmNvbmNhdChzaG93U2Vjb25kcyhnZXRUaW1lUmVtYWluaW5nKGRlYWQpLnNlY29uZHMpLCAnPC9kaXY+Jyk7XG4vLyAgIH0sIDEwMDApO1xuLy8gfSk7XG4oJ3VzZSBzdHJpY3QnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5mdW5jdGlvbiB2aWRlb1BsYXkoYnV0dG9uKSB7XG4gIHZhciB5b3VUdWJlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChidXR0b24pO1xuICB5b3VUdWJlQnV0dG9uLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICdzcmMnLFxuICAgICAgICBlLnRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKVxuICAgICAgKTtcbiAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LnRvZ2dsZSgndmlkZW9XcmFwcGVyQWN0aXZlJyk7XG4gICAgfSk7XG4gIH0pO1xufVxuIl19
